// Generated by CoffeeScript 1.6.1

uChat.controller('loginController', function($scope, $location, $routeParams) {
  $scope.history = [
    {
      author: 'system',
      text: 'Welcome'
    }
  ];
  $scope.approvedNick = localStorage.approvedNick || '#nna#';
  $scope.chooseHandle = function() {
    connection.setAddHistoryLine(function(l) {
      return $scope.history.push(l);
    });
    connection.requestHandle($scope.login.handle);
    return $location.path('/chatsAvailable/');
  };
  $scope.createRoom = function() {
    connection.requestRoom($scope.login.roomName);
    return $location.path('/chat/');
  };
  return 1;
});
